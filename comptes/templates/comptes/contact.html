{% extends 'base.html' %}
{% load static %}

{% block content %}
<section class="contact-section py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 mb-4 mb-lg-0">
                <div class="contact-info p-4 rounded shadow">
                    <h2 class="h4 mb-4">Informations de contact</h2>
                    <div class="contact-item mb-4">
                        <i class="fas fa-map-marker-alt me-3"></i>
                        <div>
                            <h3 class="h5 mb-1">Adresse</h3>
                            <p>123 Rue de l'Immobilier</p>
                            <p>75000 Paris, France</p>
                        </div>
                    </div>
                    <div class="contact-item mb-4">
                        <i class="fas fa-phone me-3"></i>
                        <div>
                            <h3 class="h5 mb-1">Téléphone</h3>
                            <p>+33 1 23 45 67 89</p>
                        </div>
                    </div>
                    <div class="contact-item mb-4">
                        <i class="fas fa-envelope me-3"></i>
                        <div>
                            <h3 class="h5 mb-1">Email</h3>
                            <p>contact@immobilier.fr</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-clock me-3"></i>
                        <div>
                            <h3 class="h5 mb-1">Horaires</h3>
                            <p>Lun - Ven: 9h00 - 18h00</p>
                            <p>Sam: 10h00 - 14h00</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="contact-form p-4 rounded shadow">
                    <h2 class="h4 mb-4">Contactez-nous</h2>
                    <form method="POST" class="needs-validation" novalidate>
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                {{ form.nom }}
                                <div class="invalid-feedback">
                                    Veuillez entrer votre nom.
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                {{ form.email }}
                                <div class="invalid-feedback">
                                    Veuillez entrer une adresse email valide.
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            {{ form.sujet }}
                            <div class="invalid-feedback">
                                Veuillez entrer un sujet.
                            </div>
                        </div>
                        <div class="mb-3">
                            {{ form.message }}
                            <div class="invalid-feedback">
                                Veuillez entrer un message.
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary w-100">Envoyer</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    // Validation du formulaire
    (function () {
        'use strict'
        var forms = document.querySelectorAll('.needs-validation')
        Array.prototype.slice.call(forms)
            .forEach(function (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }
                    form.classList.add('was-validated')
                }, false)
            })
    })()

    // Animation des cartes contact
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animate__fadeIn');
            }
        });
    }, {
        threshold: 0.1
    });

    document.querySelectorAll('.contact-info, .contact-form').forEach((el) => {
        observer.observe(el);
    });
</script>
{% endblock %}
